<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <handlers>
      <!-- Start fresh -->
      <clear />

      <!-- 1) Static files: let IIS serve them directly -->
      <add name="StaticTxt"
           path="*.txt"
           verb="GET,HEAD"
           modules="StaticFileModule"
           resourceType="File"
           requireAccess="Read" />
      
      <add name="StaticCss"
           path="*.css"
           verb="GET,HEAD"
           modules="StaticFileModule"
           resourceType="File"
           requireAccess="Read" />

      <add name="StaticJs"
           path="*.js"
           verb="GET,HEAD"
           modules="StaticFileModule"
           resourceType="File"
           requireAccess="Read" />

      <add name="StaticPng"
           path="*.png"
           verb="GET,HEAD"
           modules="StaticFileModule"
           resourceType="File"
           requireAccess="Read" />

      <add name="StaticJpg"
           path="*.jpg"
           verb="GET,HEAD"
           modules="StaticFileModule"
           resourceType="File"
           requireAccess="Read" />

      <add name="StaticJpeg"
           path="*.jpeg"
           verb="GET,HEAD"
           modules="StaticFileModule"
           resourceType="File"
           requireAccess="Read" />

      <add name="StaticSvg"
           path="*.svg"
           verb="GET,HEAD"
           modules="StaticFileModule"
           resourceType="File"
           requireAccess="Read" />

      <!-- 2) Everything else: go to Django via FastCGI -->
      <add name="pdfscraper"
           path="*"
           verb="*"
           modules="FastCgiModule"
           scriptProcessor="C:\inetpub\wwwroot\web__scraper\menv\Scripts\python.exe|C:\inetpub\wwwroot\web__scraper\menv\Lib\site-packages\wfastcgi.py"
           resourceType="Unspecified"
           requireAccess="Script" />
    </handlers>
  </system.webServer>

  <appSettings>
    <add key="WSGI_HANDLER" value="web_scraper.wsgi.application" />
    <add key="PYTHONPATH" value="C:\inetpub\wwwroot\web__scraper\web_scraper" />
    <add key="DJANGO_ALLOWED_HOSTS" value="*" />
  </appSettings>
</configuration>
